# ğŸ“¸ ìŠ¤ëƒ…ìƒ·ìœ¼ë¡œì„œì˜ State

<aside>

ğŸ’¡Â **Reactì˜ stateëŠ” ë‹¨ìˆœí•œ ë³€ìˆ˜ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ**, ì‹¤ì œë¡œëŠ” **ë Œë”ë§ ì‹œì ì˜ ìŠ¤ëƒ…ìƒ·** ìœ¼ë¡œ ë™ì‘í•œë‹¤. ë Œë”ë§ì´ ì‹¤í–‰ë˜ëŠ” ìˆœê°„, ëª¨ë“  state, props, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” ê·¸ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ "ê³ ì •"ëœë‹¤.

</aside>

## âœ…Â Stateë¥¼ ì„¤ì •í•˜ë©´ ë Œë”ë§ì´ ë™ì‘í•œë‹¤

```jsx
import { useState } from 'react';

export default function Form() {
  const [isSent, setIsSent] = useState(false);
  const [message, setMessage] = useState('Hi!');
  
  if (isSent) {
    return <h1>Your message is on its way!</h1>
  }
  
  return (
    <form onSubmit={(e) => {
      e.preventDefault();
      setIsSent(true);
      sendMessage(message);
    }}>
      <textarea
        placeholder="Message"
        value={message}
        onChange={e => setMessage(e.target.value)}
      />
      <button type="submit">Send</button>
    </form>
  );
}

function sendMessage(message) {
  // ...
}
```

- ê²°ê³¼í™”ë©´
    
    ![image.png](attachment:d694b9cb-dfee-45f8-821e-42792e3f2e99:image.png)
    
    ![image.png](attachment:d0834d0b-37b3-4848-8775-a35857900381:image.png)
    

### ğŸ”„ ì‹¤í–‰ íë¦„

1. `onSubmit` ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì‹¤í–‰
2. `setIsSent(true)` â†’ ìƒˆë¡œìš´ ë Œë”ë§ì´ íì— ë“¤ì–´ê°
3. ReactëŠ” ë³€ê²½ëœ stateì— ë”°ë¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§

## ğŸ§ŠÂ ë Œë”ë§ì€ ê·¸ ì‹œì ì˜ â€œìŠ¤ëƒ…ìƒ·â€ì„ ì°ëŠ”ë‹¤

<aside>

ğŸ“ ì»´í¬ë„ŒíŠ¸ê°€ **ë Œë”ë§ëœë‹¤ëŠ” ê²ƒ = í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì–´ JSXë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒ**

JSXëŠ” ë§ˆì¹˜ ì‚¬ì§„ì²˜ëŸ¼, **ë Œë”ë§ ë‹¹ì‹œì˜ ìƒíƒœë¥¼ ê³ ì •**í•œ UI êµ¬ì¡°ì´ë‹¤.

</aside>

![image.png](attachment:fbb32407-51ce-4828-b4d3-090cbf5a725d:image.png)

ğŸ“ŒÂ ì»´í¬ë„ŒíŠ¸ëŠ” í•´ë‹¹ ë Œë”ë§ì˜ state ê°’ì„ ì‚¬ìš©í•´ ê³„ì‚°ëœ ìƒˆë¡œìš´ props ì„¸íŠ¸ì™€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ í¬í•¨ëœ UIì˜ ìŠ¤ëƒ…ìƒ·ì„ JSXì— ë°˜í™˜í•œë‹¤!

![image.png](attachment:4e57fa71-0a46-422c-b704-e78d0d97e2af:image.png)

## ğŸ’ŸÂ ìƒíƒœëŠ” ê³ ì •ëœ ê°’

```jsx
import { useState } from 'react';

export default function Counter() {
  const [number, setNumber] = useState(0);

  return (
    <>
      <h1>{number}</h1>
      <button onClick={() => {
        setNumber(number + 1); //setNumber(0+1);
        setNumber(number + 1); //setNumber(0+1);
        setNumber(number + 1); //setNumber(0+1);
      }}>+3</button>
    </>
  )
}
```

### ğŸ” ê²°ê³¼ëŠ” ì™œ `+3`ì´ ì•„ë‹Œ `+1`ì¼ê¹Œ?

- `setNumber(number + 1)`ì€ **ëª¨ë‘ ê°™ì€ 0ì„ ê¸°ë°˜**ìœ¼ë¡œ í•˜ê³  ìˆìŒ â†’ ê²°êµ­ 1 í•œ ë²ˆë§Œ ì ìš©ë¨
    
- ì´ìœ ëŠ”?
    
    ğŸ‘‰ ì´ ë Œë”ë§ì—ì„œì˜ `number`ëŠ” 0ìœ¼ë¡œ ê³ ì •ëœ ìŠ¤ëƒ…ìƒ·ì´ê¸° ë•Œë¬¸ì´ë‹¤
    

## ğŸ•Â íƒ€ì´ë¨¸ ì˜ˆì œ

```jsx
import { useState } from 'react';

export default function Counter() {
  const [number, setNumber] = useState(0);

  return (
    <>
      <h1>{number}</h1>
      <button onClick={() => {
        setNumber(number + 5);
        setTimeout(() => {
          alert(number); //0ì´ ì¶œë ¥ì´ ëœë‹¤.
        }, 3000);
      }}>+5</button>
    </>
  )
}
```

<aside>

ğŸ’¡Â State ë³€ìˆ˜ì˜ ê°’ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ ì½”ë“œê°€ ë¹„ë™ê¸°ì ì´ë”ë¼ë„ ë Œë”ë§ ë‚´ì—ì„œ ì ˆëŒ€ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ ê°’ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ í˜¸ì¶œí•´ Reactê°€ UIì˜ `â€œìŠ¤ëƒ…ìƒ·ì„ ì°ì„â€`ë•Œ `â€œê³ ì •â€`ëœ ê°’ì´ë‹¤. ReactëŠ” ë Œë”ë§ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ì—ì„œ stateê°’ì„ `â€œê³ ì •â€`ìœ¼ë¡œ ìœ ì§€í•œë‹¤.

</aside>

## ğŸ”¥Â ê·¸ë ‡ë‹¤ë©´, ë Œë”ë§ í•˜ê¸° ì „ì— ìµœì‹  stateë¥¼ ì½ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? â†’ ì—…ë°ì´í„° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì !

---

# ğŸ§ Â State ì—…ë°ì´íŠ¸ í

## âœ…Â Reactì˜ Batching ì´ë€?

<aside>

**Batching**ì€ ì—¬ëŸ¬ ê°œì˜ state ì—…ë°ì´íŠ¸ë¥¼ í•˜ë‚˜ì˜ ë Œë”ë§ìœ¼ë¡œ ë¬¶ì–´ ì²˜ë¦¬í•¨ìœ¼ë¡œì¨ **ë Œë”ë§ ì„±ëŠ¥ì„ ìµœì í™”**í•˜ê³ , **UIì˜ ì¼ê´€ì„±**ì„ ìœ ì§€í•˜ëŠ” Reactì˜ ì „ëµì´ë‹¤.

</aside>

## ğŸ’ŸÂ ë‹¤ìŒ ë Œë”ë§ ì „ì— ë™ì¼í•œ state ë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ë²ˆ ì—…ë°ì´íŠ¸í•˜ê¸°

```jsx
import { useState } from 'react';

export default function Counter() {
  const [number, setNumber] = useState(0);

  return (
    <>
      <h1>{number}</h1>
      <button onClick={() => {
        setNumber(n => n + 1); //ì—…ë°ì´í„° í•¨ìˆ˜ë¼ê³  ë¶€ë¦„.
        setNumber(n => n + 1); //n=> n+1 í•¨ìˆ˜ë¥¼ íì— ì¶”ê°€í•œë‹¤.
        setNumber(n => n + 1);
      }}>+3</button>
    </>
  )
}
```

### ğŸ§­ ë™ì‘ ë°©ì‹

1. ê° `setNumber(n => n + 1)`ëŠ” **ì—…ë°ì´í„° í•¨ìˆ˜**ë¡œ íì— ì¶”ê°€ëœë‹¤.
2. ReactëŠ” ë Œë”ë§ ì§ì „ì— **ì´ í•¨ìˆ˜ë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰**í•˜ì—¬ ìµœì¢… ê°’ì„ ê³„ì‚°í•œë‹¤.
3. í•˜ë‚˜ì˜ ë Œë”ë§ìœ¼ë¡œ ì„¸ ë²ˆì˜ ì—…ë°ì´íŠ¸ê°€ ì ìš©ë˜ì–´ 3ì´ ì¶œë ¥ëœë‹¤.

ğŸ“Œ **ì—…ë°ì´í„° í•¨ìˆ˜ëŠ” ì´ì „ stateë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œìš´ ê°’ì„ ê³„ì‚°**í•˜ë¯€ë¡œ ì•ˆì „í•˜ê²Œ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œ ê°€ëŠ¥!

## âš ï¸Â stateë¥¼ êµì²´í•œ í›„ ì—…ë°ì´íŠ¸ë¥¼ í•˜ë©´?

```jsx
import { useState } from 'react';

export default function Counter() {
  const [number, setNumber] = useState(0);

  return (
    <>
      <h1>{number}</h1>
      <button onClick={() => {
        setNumber(number + 5);
        setNumber(n => n + 1);
      }}>Increase the number</button>
    </>
  )
}
```

1. ê³ ì •ëœ ê°’ì¸ 5 ìì²´ë¥¼ ì§ì ‘ íì— ì¶”ê°€í•œë‹¤.
2. ë‘ ë²ˆì§¸ ì¤„ì€ ê·¸ ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ +1
3. ë”°ë¼ì„œ ìµœì¢… ê²°ê³¼ëŠ” 6

ğŸ’¡ **ì—…ë°ì´í„° í•¨ìˆ˜ëŠ” ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°**, ì•ì„  ë³€ê²½ì„ ë°˜ì˜í•  ìˆ˜ ìˆë‹¤.

![image.png](attachment:3f9b84da-7b70-4bb2-87c6-7a1e6916268c:image.png)

## ğŸ§¨Â ì—…ë°ì´íŠ¸ í›„ stateë¥¼ ë°”ê¾¸ë©´?

```jsx
import { useState } from 'react';

export default function Counter() {
  const [number, setNumber] = useState(0);

  return (
    <>
      <h1>{number}</h1>
      <button onClick={() => {
        setNumber(number + 5); // -> 5
        setNumber(n => n + 1); // -> 6 
        setNumber(42); // -> 42
      }}>Increase the number</button>
    </>
  )
}
```

<aside>

`setState(42)`ì€ ì§€ê¸ˆ ë Œë”ë§ì˜ state ê°’ìœ¼ë¡œ ê³ ì •ë˜ë©°, í ì•ˆì˜ í•¨ìˆ˜ë“¤ì„ ë®ì–´ì“¸ ìˆ˜ ìˆë‹¤. ì—…ë°ì´í„° í•¨ìˆ˜ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ì—¬ì•¼ í•œë‹¤.

</aside>

## ğŸ“ŒÂ ìš”ì•½

- ë Œë”ë§ ì‹œ stateëŠ” ê³ ì •ê°’
- ìƒíƒœ ì—…ë°ì´íŠ¸ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì¢…ë£Œ í›„ ë°˜ì˜ â†’ Batching
- ì—¬ëŸ¬ ì—…ë°ì´íŠ¸ ì‹œ, ì—…ë°ì´í„° í•¨ìˆ˜ ì‚¬ìš©ìœ¼ë¡œ ìˆœì°¨ì  ì²˜ë¦¬ ê°€ëŠ¥

---

# ğŸ”Â ê°ì²´ state ì—…ë°ì´íŠ¸í•˜ê¸°

<aside>

â€¼Â stateëŠ” ê°ì²´ë¥¼ í¬í•¨í•œ ëª¨ë“  ì¢…ë¥˜ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ react stateê°€ ê°€ì§„ ê°ì²´ë¥¼ ì§ì ‘ ë³€ê²½í•´ì„œëŠ” ì•ˆë˜ê³ , ê°ì²´ë¥¼ ì—…ë°ì´íŠ¸ í•˜ê³  ì‹¶ì„ ë•ŒëŠ” ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ì.

</aside>

## ğŸ“Â Stateë¥¼ ì½ê¸° ì „ìš©ì¸ ê²ƒì²˜ëŸ¼ ë‹¤ë£¨ì

```jsx
import { useState } from 'react';

export default function MovingDot() {
  const [position, setPosition] = useState({
    x: 0,
    y: 0
  });
  return (
    <div
    
  /*  onPointerMove={e => {
  position.x = e.clientX;  // âŒ ì§ì ‘ ë³€ê²½
  position.y = e.clientY; //state ê°ì²´ì¸ positionì„ ì§ì ‘ ìˆ˜ì •. ë¦¬ì•¡íŠ¸ëŠ” state ì„¤ì • í•¨ìˆ˜ê°€ ì—†ìœ¼ë©´ ê°ì²´ê°€ ë³€ê²½ë˜ì—ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ.
}} */

      onPointerMove={e => {
        setPosition({
          x: e.clientX,
          y: e.clientY
        });
      }}
    </div>
  )
}
```

> ë³€ê²½ì€ ì´ë¯¸ stateì— ì¡´ì¬í•˜ëŠ” ê°ì²´ë¥¼ ë³€ê²½í•  ë•Œë§Œ ë¬¸ì œê°€ ëœë‹¤. ë°©ê¸ˆ ë§Œë“  ê°ì²´ë¥¼ ìˆ˜ì •í•˜ëŠ” ê²ƒì€ ì•„ì§ ë‹¤ë¥¸ ì½”ë“œê°€ í•´ë‹¹ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê´œì°®ë‹¤. ì´ê²ƒì„ ì§€ì—­ ë³€ê²½ (local mutation) ì´ë¼ê³  í•œë‹¤.

## ğŸ§©Â ìŠ¤í”„ë ˆë“œ ì—°ì‚°ìë¡œ ê°ì²´ ë³µì‚¬í•˜ê¸°

```jsx
import { useState } from 'react';

export default function Form() {
  const [person, setPerson] = useState({
    firstName: 'Barbara',
    lastName: 'Hepworth',
  });

  function handleChange(e) {
    setPerson({
      ...person, //ê¸°ì¡´ì˜ person ê°ì²´ë¥¼ ë³µì‚¬
      [e.target.name]: e.target.value //input name ê°’ì„ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸
    });
  }

  return (
    <>
      <label>
        First name:
        <input
          name="firstName"
          value={person.firstName}
          onChange={handleChange}
        />
      </label>
      <p>
        {person.firstName}{' '}
      </p>
    </>
  );
}

```

- `...person` â†’ ê¸°ì¡´ person ê°ì²´ ë³µì‚¬
- `[name]` í‚¤ë§Œ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ êµì²´
- ì›ë³¸ ê°ì²´ëŠ” ìœ ì§€ë˜ë¯€ë¡œ ë¶ˆë³€ì„± ë³´ì¥

## ğŸ§±Â ì¤‘ì²©ëœ ê°ì²´ ê°±ì‹ í•˜ê¸°

```jsx
import { useState } from 'react';

export default function Form() {
  const [person, setPerson] = useState({
    name: 'Niki de Saint Phalle',
    artwork: {
      title: 'Blue Nana',
      city: 'Hamburg',
      image: '<https://i.imgur.com/Sd1AgUOm.jpg>',
    }
  });

  function handleTitleChange(e) {
    setPerson({
      ...person,
      artwork: {
        ...person.artwork,
        title: e.target.value
      }
    });
  }

  return (
    <>
      <label>
        Title:
        <input
          value={person.artwork.title}
          onChange={handleTitleChange}
        />
      </label>
      <p>
        <i>{person.artwork.title}</i>
        {' by '}
        {person.name}
    </>
  );
}

```

## ğŸ§ˆÂ Immerë¡œ ê°„ê²°í•œ ê°±ì‹  ë¡œì§ ì‘ì„±í•˜ê¸°

> stateê°€ ê¹Šì´ ì¤‘ì²©ë˜ì–´ ìˆë‹¤ë©´ í‰íƒ„í™”ë¥¼ ê³ ë ¤í•´ë³´ì. ë§Œì•½ stateë¥¼ ë°”ê¾¸ê³  ì‹¶ì§€ ì•Šë‹¤ë©´, immerì„ ì´ìš©í•˜ë©´ ë” ê°„í¸í•˜ê²Œ ì¤‘ì²© ì „ê°œë¥¼ í•  ìˆ˜ ìˆë‹¤.

```jsx
import { useImmer } from 'use-immer';

export default function Form() {
  const [person, updatePerson] = useImmer({
    name: 'Niki de Saint Phalle',
    artwork: {
      title: 'Blue Nana',
      city: 'Hamburg',
      image: '<https://i.imgur.com/Sd1AgUOm.jpg>',
    }
  });

  function handleTitleChange(e) {
    updatePerson(draft => {//person ìƒíƒœì˜ ë³µì‚¬ë³¸
      draft.artwork.title = e.target.value;
    }); //ì§ì ‘ ìˆ˜ì • ì½”ë“œë¥¼ ì“¸ ìˆ˜ ìˆìœ¼ë©´ì„œë„ ë¶ˆë³€ì„±ì€ ìœ ì§€ëœë‹¤.
  }

  return (
    <>
      <label>
        Title:
        <input
          value={person.artwork.title}
          onChange={handleTitleChange}
        />
      </label>
      <p>
        <i>{person.artwork.title}</i>
        {' by '}
        {person.name}
    </>
  );
}

```

## ğŸ¤”Â ì™œ reactì—ì„œ state ë³€ê²½ì€ ê¶Œì¥ë˜ì§€ ì•Šì„ê¹Œ?

- **ë””ë²„ê¹…ì´ ì‰¬ì›Œì§**
    - stateë¥¼ ì§ì ‘ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´, console ë¡œê·¸ê°€ ê³¼ê±° ìƒíƒœë¥¼ ì •í™•íˆ ë³´ì—¬ì¤˜ì„œ ì¶”ì ì´ ì‰¬ì›€
- **ì„±ëŠ¥ ìµœì í™”ì— ìœ ë¦¬**
    - ReactëŠ” `prev === next`ë¡œ ë³€ê²½ ì—¬ë¶€ë¥¼ íŒë‹¨ â†’ ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë©´ ë¹„êµê°€ ë¹ ë¥´ê³  ì •í™•í•¨
- **Reactì˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ê³¼ í˜¸í™˜ì„± ìœ ì§€**
    - ì˜ˆ: íƒ€ì„ë¨¸ì‹  ë””ë²„ê¹…, ìŠ¤ëƒ…ìƒ·, ë™ê¸°í™” ê¸°ëŠ¥ì€ stateê°€ ë°”ë€Œì§€ ì•ŠëŠ” ì „ì œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•¨
- **í™•ì¥ì„± ìˆëŠ” ê¸°ëŠ¥ êµ¬í˜„ ê°€ëŠ¥**
    - ì˜ˆ: ìƒíƒœ ë³µì›/ë˜ëŒë¦¬ê¸°/ë³€í™” ì¶”ì  ë“± ê¸°ëŠ¥ì´ ì‰¬ì›Œì§ (ê³¼ê±° stateë¥¼ ê·¸ëŒ€ë¡œ ì €ì¥ ê°€ëŠ¥)
- **ê°„ë‹¨í•œ ë‚´ë¶€ êµ¬í˜„**
    - ReactëŠ” state ê°ì²´ë¥¼ í”„ë¡ì‹œë¡œ ê°ì‹¸ê±°ë‚˜ ì¶”ì í•˜ì§€ ì•ŠìŒ â†’ ë‹¨ìˆœí•˜ë©´ì„œë„ ê°•ë ¥í•œ êµ¬ì¡° ê°€ëŠ¥

---

# ğŸ§±Â ë°°ì—´ State ì—…ë°ì´íŠ¸í•˜ê¸°

<aside>

ë°°ì—´ì€ JSì—ì„œëŠ” ë³€ê²½ì´ ê°€ëŠ¥í•˜ì§€ë§Œ, stateë¡œ ì €ì¥í•  ë•ŒëŠ” ë³€ê²½í•  ìˆ˜ ì—†ë„ë¡ ì²˜ë¦¬í•´ì•¼ í•œë‹¤. ê°ì²´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìƒˆ ë°°ì—´ì„ ìƒì„± ( í˜¹ì€ ë³µì‚¬ë³¸ì„ ìƒì„±) í•œ ë’¤, stateë¡œ ë‘ì–´ ì—…ë°ì´íŠ¸í•œë‹¤.

</aside>

## ë³€ê²½í•˜ì§€ ì•Šê³  ë°°ì—´ ì—…ë°ì´íŠ¸í•˜ê¸°

![image.png](attachment:1b86eb78-bca3-4465-94e9-63346edcd745:image.png)

## â•Â ë°°ì—´ì— í•­ëª© ì¶”ê°€í•˜ê¸°

```jsx
import { useState } from 'react';

let nextId = 0;

export default function List() {
  const [name, setName] = useState('');
  const [artists, setArtists] = useState([]);

  return (
    <>
     /* <button onClick={() => { //reactëŠ” stateê°€ ë³€ê²½ë˜ì—ˆëŠ”ì§€ "ì°¸ì¡° ë¹„êµ"ë¡œ í™•ì¸í•˜ëŠ”ë°, ê°™ì€ ì°¸ì¡°ê°€ ì „ë‹¬ë˜ë©´ ë¦¬ë Œë”ë§ X
        artists.push({
          id: nextId++,
          name: name,
        });
      }}>Add</button> */
      
       <button onClick={() => {
        setArtists([
          ...artists,
          { id: nextId++, name: name }
        ]);
      }}>Add</button>
      
      <ul>
        {artists.map(artist => (
          <li key={artist.id}>{artist.name}</li>
        ))}
      </ul>
    </>
  );
}

```

- `...artists`ë¡œ ê¸°ì¡´ ë°°ì—´ì„ ë³µì‚¬í•œë‹¤.
    
- ìƒˆ í•­ëª©ì„ ë§ˆì§€ë§‰ì— ì¶”ê°€
    
    â†’ ìƒˆë¡œìš´ ë°°ì—´ì´ ìƒì„±ë˜ë¯€ë¡œ ìƒíƒœê°€ ì•ˆì „í•˜ê²Œ ì—…ë°ì´íŠ¸ëœë‹¤.
    

âŒ `artists.push(...)`ëŠ” ì›ë³¸ ë°°ì—´ì„ ì§ì ‘ ë³€ê²½í•˜ë¯€ë¡œ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

## â–Â ë°°ì—´ì—ì„œ í•­ëª© ì œê±°í•˜ê¸°

```jsx
import { useState } from 'react';

let initialArtists = [
  { id: 0, name: 'Marta Colvin Andrade' },
  { id: 1, name: 'Lamidi Olonade Fakeye'},
  { id: 2, name: 'Louise Nevelson'},
];

export default function List() {
  const [artists, setArtists] = useState(
    initialArtists
  );

  return (
    <>
      <h1>Inspiring sculptors:</h1>
      <ul>
        {artists.map(artist => (
          <li key={artist.id}>
            {artist.name}{' '}
            <button onClick={() => {
              setArtists(
                artists.filter(a =>
                  a.id !== artist.id
                )
              );
            }}>
              Delete
            </button>
          </li>
        ))}
      </ul>
    </>
  );
}

```

- `filter()`ëŠ” ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” í•­ëª©ë§Œ ê³¨ë¼ **ìƒˆ ë°°ì—´**ì„ ë°˜í™˜í•œë‹¤.
- ì‚­ì œí•  í•­ëª©ì„ ì œì™¸í•œ ë°°ì—´ì´ ìƒì„±ë˜ì–´ stateê°€ ë¶ˆë³€ì„± ìˆê²Œ ë°”ë€ë‹¤.

## ğŸ”„Â ë°°ì—´ ë³€í™˜í•˜ê¸°

```jsx
import { useState } from 'react';

let initialShapes = [
  { id: 0, type: 'circle', x: 50, y: 100 },
  { id: 1, type: 'square', x: 150, y: 100 },
  { id: 2, type: 'circle', x: 250, y: 100 },
];

export default function ShapeEditor() {
  const [shapes, setShapes] = useState(
    initialShapes
  );

  function handleClick() {
    const nextShapes = shapes.map(shape => {
      if (shape.type === 'square') {
        // ë³€ê²½ì‹œí‚¤ì§€ ì•Šê³  ë°˜í™˜í•©ë‹ˆë‹¤.
        return shape;
      } else {
        // 50px ì•„ë˜ë¡œ ì´ë™í•œ ìƒˆë¡œìš´ ì›ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
        return {
          ...shape,
          y: shape.y + 50,
        };
      }
    });
    // ìƒˆë¡œìš´ ë°°ì—´ë¡œ ë¦¬ë Œë”ë§í•©ë‹ˆë‹¤.
    setShapes(nextShapes);
  }
}

```

- `map()`ì€ ë°°ì—´ì˜ ê° í•­ëª©ì„ ìˆœíšŒí•˜ë©° ìˆ˜ì •í•  í•­ëª©ë§Œ ë°”ê¾¸ê³  ë‚˜ë¨¸ì§€ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€
- ìˆ˜ì •ëœ ìƒˆ ê°ì²´ë¡œ êµì²´ â†’ ë‚˜ë¨¸ì§€ëŠ” ì´ì „ ì°¸ì¡° ê·¸ëŒ€ë¡œ ì‚¬ìš© ê°€ëŠ¥

## ğŸ” ë°°ì—´ ë‚´ í•­ëª© êµì²´í•˜ê¸°

```jsx
import { useState } from 'react';

let initialCounters = [
  0, 0, 0
];

export default function CounterList() {
  const [counters, setCounters] = useState(
    initialCounters
  );

  function handleIncrementClick(index) {
    const nextCounters = counters.map((c, i) => {
      if (i === index) {
        // í´ë¦­ëœ counterë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.
        return c + 1;
      } else {
        // ë³€ê²½ë˜ì§€ ì•Šì€ ë‚˜ë¨¸ì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
        return c;
      }
    });
    setCounters(nextCounters);
  }
}

```

- íŠ¹ì • ì¸ë±ìŠ¤ë§Œ ê°’ì„ ë³€ê²½í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€
- ëª¨ë“  í•­ëª©ì„ ìƒˆ ë°°ì—´ë¡œ ë§Œë“¤ì–´ì„œ Reactê°€ ë³€ê²½ì„ ê°ì§€í•  ìˆ˜ ìˆë„ë¡ í•¨

## **ğŸ§©Â ë°°ì—´ì— í•­ëª© ì‚½ì…í•˜ê¸°**

```jsx
import { useState } from 'react';

let nextId = 3;
const initialArtists = [
  { id: 0, name: 'Marta Colvin Andrade' },
  { id: 1, name: 'Lamidi Olonade Fakeye'},
  { id: 2, name: 'Louise Nevelson'},
];

export default function List() {
  const [name, setName] = useState('');
  const [artists, setArtists] = useState(
    initialArtists
  );

  function handleClick() {
    const insertAt = 1; // ëª¨ë“  ì¸ë±ìŠ¤ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    const nextArtists = [
      // ì‚½ì… ì§€ì  ì´ì „ í•­ëª©
      ...artists.slice(0, insertAt),
      // ìƒˆ í•­ëª©
      { id: nextId++, name: name },
      // ì‚½ì… ì§€ì  ì´í›„ í•­ëª©
      ...artists.slice(insertAt)
    ];
    setArtists(nextArtists);
    setName('');
  }
}

```

- `slice()`ëŠ” ë°°ì—´ì„ ì˜ë¼ì„œ ë³µì‚¬
- **ì‚½ì… ì§€ì  ì „/í›„**ë¡œ ì˜ë¼ë‚¸ ë°°ì—´ì— ìƒˆ í•­ëª©ì„ ë¼ì›Œ ë„£ìŒ
- ìƒˆ ë°°ì—´ì„ ë§Œë“¤ì–´ ìƒíƒœë¡œ ì„¤ì • â†’ ë¶ˆë³€ì„± ìœ ì§€ âœ…

## **ğŸ”ƒÂ ë°°ì—´ì— ê¸°íƒ€ ë³€ê²½ ì ìš©í•˜ê¸°**

```jsx
import { useState } from 'react';

const initialList = [
  { id: 0, title: 'Big Bellies' },
  { id: 1, title: 'Lunar Landscape' },
  { id: 2, title: 'Terracotta Army' },
];

export default function List() {
  const [list, setList] = useState(initialList);

  function handleClick() {
    const nextList = [...list];
    nextList.reverse();
    setList(nextList);
    //nextList[0]="something"
  }
  
  /* const nextList = [...list];
nextList[0].seen = true; // ë¬¸ì œ: list[0]ì„ ë³€ê²½ì‹œí‚µë‹ˆë‹¤.
setList(nextList);*/

  return (
    <>
      <button onClick={handleClick}>
        Reverse
      </button>
      <ul>
        {list.map(artwork => (
          <li key={artwork.id}>{artwork.title}</li>
        ))}
      </ul>
    </>
  );
}

```

- `reverse()`, `sort()` ë“±ì€ **ì›ë³¸ì„ ë³€ê²½**í•˜ëŠ” ë©”ì„œë“œ
- ë°˜ë“œì‹œ `[...ë°°ì—´]`ë¡œ ë³µì‚¬í•œ í›„ì— ì ìš©í•´ì•¼ ì•ˆì „í•˜ê²Œ ë¦¬ë Œë”ë§ë¨

## **ğŸ§ Â ë°°ì—´ ë‚´ë¶€ì˜ ê°ì²´ ì—…ë°ì´íŠ¸í•˜ê¸°**

> ë°°ì—´ ì•ˆì˜ ê°ì²´ì˜ íŠ¹ì • í•„ë“œë§Œ ì—…ë°ì´íŠ¸í•˜ê³  ê·¸ ì™¸ì—ëŠ” ê±´ë“œë¦¬ì§€ ì•ŠëŠ” ë°©ì‹ìœ¼ë¡œ ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ë³€ê²½í•œë‹¤.

```jsx
import { useState } from 'react';

let nextId = 3;
const initialList = [
  { id: 0, title: 'Big Bellies', seen: false },
  { id: 1, title: 'Lunar Landscape', seen: false },
  { id: 2, title: 'Terracotta Army', seen: true },
];

export default function BucketList() {
  const [myList, setMyList] = useState(initialList);
  const [yourList, setYourList] = useState(
    initialList
  );
  
  
/*  function handleToggleMyList(artworkId, nextSeen) {
    const myNextList = [...myList];
    const artwork = myNextList.find(
      a => a.id === artworkId
    );
    artwork.seen = nextSeen;
    setMyList(myNextList);
  } */

  function handleToggleMyList(artworkId, nextSeen) {
    setMyList(myList.map(artwork => {
      if (artwork.id === artworkId) {
        // ë³€ê²½ëœ *ìƒˆ* ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜í•©ë‹ˆë‹¤.
        return { ...artwork, seen: nextSeen };
      } else {
        // ë³€ê²½ì‹œí‚¤ì§€ ì•Šê³  ë°˜í™˜í•©ë‹ˆë‹¤.
        return artwork;
      }
    }));
  }

}

```

- `map()`ìœ¼ë¡œ ì›í•˜ëŠ” ê°ì²´ë§Œ ê³¨ë¼ ë³µì‚¬ â†’ ìˆ˜ì •
- ë‚˜ë¨¸ì§€ ê°ì²´ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€
- âœ… ìƒíƒœ ë¶ˆë³€ì„±ì„ ì§€í‚¤ë©´ì„œ **ë¶€ë¶„ë§Œ ì—…ë°ì´íŠ¸ ê°€ëŠ¥**

## **ğŸ§ˆÂ Immerë¡œ ê°„ê²°í•œ ì—…ë°ì´íŠ¸ ë¡œì§ ì‘ì„±í•˜ê¸°**

```jsx
import { useState } from 'react';
import { useImmer } from 'use-immer';

let nextId = 3;
const initialList = [
  { id: 0, title: 'Big Bellies', seen: false },
  { id: 1, title: 'Lunar Landscape', seen: false },
  { id: 2, title: 'Terracotta Army', seen: true },
];

export default function BucketList() {
  const [myList, updateMyList] = useImmer(
    initialList
  );
  const [yourArtworks, updateYourList] = useImmer(
    initialList
  );

  function handleToggleMyList(id, nextSeen) {
    updateMyList(draft => {
      const artwork = draft.find(a =>
        a.id === id
      );
      artwork.seen = nextSeen;
    });
  }

  function handleToggleYourList(artworkId, nextSeen) {
    updateYourList(draft => {
      const artwork = draft.find(a =>
        a.id === artworkId
      );
      artwork.seen = nextSeen;
    });
  }
}
```

### âœ… Immerì˜ ì¥ì 

- **ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë©´ì„œë„** ë§ˆì¹˜ ì§ì ‘ ìˆ˜ì •í•˜ë“¯ ì½”ë”©í•  ìˆ˜ ìˆìŒ
- ì¤‘ì²©ëœ ê°ì²´ë¥¼ ë‹¤ë£° ë•Œ ë§¤ìš° ìœ ë¦¬
- `draft`ëŠ” ì‹¤ì œë¡œëŠ” ë³µì‚¬ë³¸ì´ê¸° ë•Œë¬¸ì— Reactì˜ ìƒíƒœ ë³€ê²½ ê°ì§€ì— ë¬¸ì œ ì—†ìŒ

## ğŸ”¥Â ê²°ë¡ 

<aside>

ğŸ’¡Â ë°°ì—´ stateë¥¼ ë‹¤ë£° ë•ŒëŠ” í•­ìƒ **ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë©° ìƒˆ ë°°ì—´ì„ ë§Œë“¤ì–´ì•¼** Reactê°€ ìƒíƒœ ë³€í™”ë¥¼ ì •í™•íˆ ê°ì§€í•˜ê³  ë¦¬ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

</aside>