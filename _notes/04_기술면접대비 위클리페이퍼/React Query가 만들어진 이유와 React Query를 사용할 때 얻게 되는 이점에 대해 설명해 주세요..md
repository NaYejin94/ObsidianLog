
 # React Query가 만들어진 이유와 React Query를 사용할 때 얻게 되는 이점에 대해 설명해 주세요.
##### React Query가 만들어진 이유

<mark style="background: #ADCCFFA6;">복잡한 서버 상태 관리를 효과적으로 처리하기 위해 등장</mark>

 리액트는 기본적으로 클라이언트 상태를 관리하는 데 특화된 라이브러리이지만, 앱이 실제로 동작하려면 서버에서 데이터를 불러와야 하고 서버에서 데이터를 불러오는 과정에는 복잡한 문제가 있다.
	- 비동기적으로 불러와야 함
	- 주기적으로 갱신이 필요함
	- 여러 컴포넌트에서 공유됨
	- 오래된 데이터인지 관리가 필요함
	- 오류나 로딩 상태 관리가 필요함

이런 서버 상태는 `useState`나 `useEffect`만으로 다루기에는 한계가 있으므로 이를<mark style="background: #ADCCFFA6;"> 체계적으로 관리하기 위해 리액트 쿼리가 만들어졌다</mark>.


##### React Query를 사용할 때 얻게 되는 이점

1. 자동 캐싱
	서버에서 받아온 데이터를 캐시에 저장해두고, 재요청을 줄인다

2. 자동 refetching
	탭을 다시 클릭하거나 포커스가 이동했을 때 등 조건에 따라 데이터를 자동으로 업데이트 한다. 

3. 로딩/에러 상태 관리 자동화
	`isLoading`,`isErrror`같은 상태를 쉽게 활용 가능하다.

4. 쿼리 무효화
	데이터를 변경한 뒤, 관련 쿼리만 다시 불러올 수 있다.



  # 서버 상태와 클라이언트 상태의 차이에 대해 설명해 주세요.

- 서버 상태
	- 서버에서 불러온 외부 데이터
	- 네트워크 요청이 필요하고, 가능한 최신 상태를 유지하는것이 중요하다
	- React Query로 관리

- 클라이언트 상태
	- UI 상에서 사용자의 인터랙션으로 관리되는 상태
	- 앱 내부에서만 사용되며 직접 업데이트가 가능하다.
	- React Context, Redux, Recoil 등으로 관리

React Query로 **처리할 수 없는 상태 예시**

| 예시                           | 설명                       |
| ---------------------------- | ------------------------ |
| 현재 로그인한 유저의 입력 중인 폼 상태       | 서버와 관계없고, 컴포넌트 내에서만 필요   |
| 다크모드 여부 (`isDarkMode`)       | 유저 설정으로 서버 요청 없이 토글      |
| 모달 열림 여부 (`isModalOpen`)     | 화면 상 UI 동작일 뿐, 서버랑 관계 없음 |
| 장바구니에 담긴 상품 (만약 서버에 저장 안 하면) | 로컬에서만 유지하는 경우            |
| 특정 탭 선택 상태 (`selectedTab`)   | 화면 내 UI 상태 전용            |

이런 상태는 React Query로 관리하면 **오히려 불편**하고 **비효율적**
→ 이런 건 **Redux, Context, 혹은 그냥 `useState`로 처리하는 게 맞음

---

React Query가 가장 적합한 데이터 예시

| 예시                   | 설명                           |
| -------------------- | ---------------------------- |
| 게시글 목록 가져오기          | `useQuery(['posts'])`        |
| 특정 유저 정보 가져오기        | `useQuery(['user', userId])` |
| 게시글 등록, 수정, 삭제       | `useMutation(...)`           |
| 좋아요 누르기              | `useMutation` 후 invalidate   |
| 자동 새로고침이 필요한 실시간 데이터 | `refetchInterval` 활용         |
