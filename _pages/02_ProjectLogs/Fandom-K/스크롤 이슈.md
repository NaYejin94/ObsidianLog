- useRef의 주요 역할
    - DOM요소에 직접 접근하기
    - 렌더링과 무관한 값 유지하기 : 리렌더링 되어도 이전 값을 기억할 수 있음.
    - 값이 변경되어도 리렌더링을 유발하지 않기 : 값을 유지하지만, 값이 변경되어도 리렌더링을 유발하지 않음  
        => 특정 DOM요소를 직접 조작해야 할 때, 렌더링이 필요 없는 값을 저장할 때 사용!

```
modalRef.currnet => ref가 연결되면서 해당 DOM 요소를 가리킴
modalRef.current.contains(event.target) => 클릭된 요소(event.target)가 ref의 자식인지 확인, event.target이 모달 내부에 없으면 false반환
```

---
- React Fragment
    - DOM에 불필요한 추가 요소를 만들지 않고 여러 자식을 그룹화할 수 있게 도와주는 React의 특수한 컴포넌트
    - 여러 개의 요소를 반환할 때 불필요한 HTML태그가 생성되지 않도록 할 수 있다.

```
{idolList.map((idol, idx) => {
          return (
            <>
              <VoteList key={idol.id}>
                <IdolModalHrCard idol={idol} flex="col" idx={idx} />
              </VoteList>
              <VoteListHr />
            </>
          );
        })}
```

key={idol.id}를 사용하고 있지만 리액트 프래그먼트(<>)는 고유한 key를 가지지 않기 때문에 문제 발생...

```
{idolList.map((idol, idx) => {
          return (
            <React.Fragment key={idol.id}>
              <VoteList key={idol.id}>
                <IdolModalHrCard idol={idol} flex="col" idx={idx} />
              </VoteList>
              <VoteListHr />
            </React.Fragment>
          );
        })}
```

로 수정


---

### 스크롤 이벤트 🤯🤯

```
 - scrollTop : 현재 스크롤 위치(상단에서 스크롤된 거리)
 - scrollHeight : 전테 컨텐츠의 높이. 스크롤할 수 있는 전체 높이(실제 컨텐츠의 길이를 포함)
 - clientHeight : 현재 보이는 영역의 높이
```

- scrollHeight - clientHeight이면 맨 아래에 위치
- clientHeight +1 : clientHeight만큼 스크롤이 내려갔을 때, 실제로 맨 아래에 도달했다고 판단하는 조건을 만들기 위해 1px을 더해줌. +1px을 안해주면 실제로 scrollHeight-scrollTop이 0(맨아래까지 스크롤)됐을때 스크롤 이벤트가 너무 늦게 트리거 될 수 있기 때문에

```
const handleScroll = (e) => {
    const { scrollTop, scrollHeight, clientHeight } = e.target;

    if (scrollHeight - scrollTop <= clientHeight + 1 && cursor) {
      fetchIdolList();
    }
  };
```

=> scrollHeight(전체높이) - scrollTop(스크롤된높이) 가 clientHeight(보여지는 높이)보다 작으면 fetchIdolList호출  
지금은 scrollHeight랑 clientHeight랑 비슷하니 처음부터 스크롤될때 fetchIdolList호출..그 후 계속 fetchIdolList가 호출된다..

=> 데이터가 엄청 많아지면 스크롤을 한번 내릴때마다 계속 불러오는데 부담가지않을까...?