
**ì˜ë„)**Â DonationModal.jsxì—ì„œ ë³´ìœ  í¬ë ˆë”§ì´ ë¶€ì¡±í•˜ë©´ ì¶©ì „í•˜ëŸ¬ê°€ê¸° ë²„íŠ¼ì„ ë„ìš°ê³  ê·¸ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ChargeModalì´ ë‚˜ì˜¤ê²Œ í•œë‹¤.

**ì‹œë„)**Â ëª¨ë‹¬ë“¤ì„ Routes ì•ˆì—ì„œ ë Œë”ë§í•˜ê³  ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ useNavigateë¡œ ì´ë™í•œë‹¤.  
=> ëª¨ë‹¬ì„ ì—´ê¸°ìœ„í•œ isOpenP propsê°€ ì „ë‹¬ì´ ì•ˆë¨...  
**ì›ì¸)**Â => React RouterëŠ” Routeê°€ ë°”ë€”ë•Œë§ˆë‹¤ elementë¥¼ ìƒˆë¡œ ë Œë”ë§í•œë‹¤. ê·¸ë˜ì„œ isOpenP ê°’ì´ ìœ ì§€ë˜ì§€ ì•Šê³  ë‹¤ì‹œ ì´ˆê¸°í™”ë¨

**í•´ê²°)**Â ë²„íŠ¼ì— onClickìœ¼ë¡œ setOpenOtherModalì„ trueë¡œ ë°”ê¿”ì¤€ë‹¤ ChargeModalì„ ì¶”ê°€í•´ì£¼ê³  isOpenP í”„ë¡­ì— openOtherModalì„ ë„£ì–´ì¤€ë‹¤

---

**ë¬¸ì œ2 )**Â ì¶©ì „í•˜ëŸ¬ê°€ê¸° ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ChargeModalì´ ì˜ ëœ¨ê¸´í•˜ì§€ë§Œ ChargeModalì´ ë‹«íˆë©´ DonationModalë„ í•¨ê»˜ ë‹«íŒë‹¤  
ì‚¬ìš©ìê°€ ë‹¤ì‹œ í›„ì›í•˜ê¸° ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë˜ì§€ë§Œ...ë¶ˆí¸í• ê±°ê°™ë‹¤...ChargeModalì—ì„œ ì¶©ì „ë§Œ í•˜ê³  DonationModalì€ ê·¸ëŒ€ë¡œ ë‘ë©´ ì¢‹ê² ë‹¤!

**ì›ì¸ )**Â ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ isOpenPë¥¼ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì—..?  
**í•´ê²° )**Â DonationModalì„ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì— !openOtherModal ì¡°ê±´ì„ ë„£ì–´ì£¼ë©´ ChargeModalì´ ë‹«í˜€ë„ DonationModalì´ ìœ ì§€!  
ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘

---

ğŸ ë²„ê·¸ ì„¤ëª…  
í›„ì›í•˜ê±°ë‚˜ íˆ¬í‘œí•˜ë©´ í¬ë ˆë”§ì´ ì¤„ê¸´í•˜ëŠ”ë° ë‹¤ì‹œ ì¶©ì „í•˜ê¸°ë¡œ ëŒì•„ê°€ì„œ ì¶©ì „ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê°ì†Œí•˜ê¸° ì „ì˜ í¬ë ˆë”§ì´ ì˜¬ë¼ê°„ë‹¤...

`DonationModal.jsx`

```
const [totalDonationCredit, setTotalDonationCredit] = useState(
    localStorage.getItem("credit")
  );

const handleDonationButtonClick = () => {
    if (parseInt(totalDonationCredit) > inputCredit) {
      const result = parseInt(totalDonationCredit) - inputCredit;
      localStorage.setItem("credit", result.toString());
      setTotalDonationCredit(result);
    }
  };

<button onClick={handleDonationButtonClick}>í™•ì¸</button>
```

`ChargeModal.jsx`

```
const [chargeCredit, setChargeCredit] = useState(
    localStorage.getItem("credit")
  );

const handleButtonClick = () => {
    const result = (parseInt(chargeCredit) || 0) + selectCredit;
    localStorage.setItem("credit", result.toString());
    setChargeCredit(result);
  };

<button onClick={handleButtonClick}>í™•ì¸</button>
```

`VoteModal.jsx`

```
const [totalCredit, setTotalCredit] = useState(
    localStorage.getItem("credit")
  );

const handleVoteButton = () => {
    if (parseInt(totalCredit) > 1000) {
      const result = parseInt(totalCredit) - 1000;
      localStorage.setItem("credit", result.toString());
      setTotalCredit(result);
      setAlert(false);
    } else {
      setAlert(true);
    }
  };

<button onClick={handleVoteButton}>ddsfdfsdf</button>
```

ğŸŒ€Â **ë¬¸ì œìƒí™©**Â ğŸŒ€  
ê° ëª¨ë‹¬ì— localStorageê°€ ì˜í–¥ì„ ì£¼ë©´ì„œ ê°’ì´ ë°”ë€Œì–´ì•¼ í•˜ëŠ”ë° ê° ëª¨ë‹¬ì— ë”°ë¡œ ì ìš©  
=> ì˜ˆì‹œ) 1. ChargeModalì—ì„œ 10000 í¬ë ˆë”§ ì¶©ì „  
2. VoteModal ( or DonationModal) ì—ì„œ 3000 í¬ë ˆë”§ ì†Œëª¨  
3. VoteModalì„ ë‚˜ê°€ê¸° ì „ê¹Œì§€ëŠ” í¬ë ˆë”§ì´ ì •ìƒì ìœ¼ë¡œ ê°ì†Œ  
4. ë‹¤ì‹œ ChargeModalì„ ë“¤ì–´ê°€ë©´ ë“¤ì–´ê°„ ì§í›„ì—ëŠ” ì†Œëª¨ëœ í¬ë ˆë”§ìœ¼ë¡œ ë³´ì´ë‹¤ê°€, í¬ë ˆë”§ ì¶©ì „í•˜ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê°ì†Œí•˜ê¸° ì „ í¬ë ˆë”§ì— ì¶”ê°€ë¨ ( 7000í¬ë ˆë”§ì—ì„œ 1000í¬ë ˆë”§ ì¶©ì „ì‹œ 8000í¬ë ˆë”§ì´ ë˜ëŠ”ê²Œ ì•„ë‹Œ 11000í¬ë ˆë”§ì´ ë¨.....)

---

**ì›ì¸**  
í¬ë ˆë”§ì„ ê° ëª¨ë‹¬ì—ì„œ useState(localStorage.getItem("credit")ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ìˆë‹¤.  
useStateë¡œ ê´€ë¦¬í•˜ëŠ” ìƒíƒœëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ ë ë•Œ ì„¤ì •ëœë‹¤.  
ë”°ë¼ì„œ ì´í›„ ë‹¤ë¥¸ ëª¨ë‹¬ì—ì„œ í¬ë ˆë”§ ê°’ì„ ë³€ê²½í•´ë„ í˜„ì¬ ì—´ë¦° ëª¨ë‹¬ì˜ stateëŠ” ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤....  
ì˜ˆë¥¼ë“¤ì–´ chargeModalì—ì„œ ì¶©ì „í•œ creditì´ 1000ì´ê³  donationModalì—ì„œ ì“´ creditì´ 100ì´ë©´  
900ì´ chargeModalì˜ creditì— ë°˜ì˜ë ê±°ê°™ì§€ë§Œ ì‚¬ì‹¤ì€ ì´ë¯¸ 1000ì´ ì„¤ì •ë˜ì–´ìˆì–´ donationModalì€ chargeModalì˜ stateì— ê´€ì—¬í•˜ì§€ ì•Šê¸° ë–„ë¬¸ì— chargeModalì˜ creditì€ ì—¬ì „íˆ 1000ì´ì—ˆë˜ê²ƒì´ë‹¤..

---

**ì‹œë„**

ì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ì–´ì„œ useEffectì—  
storage ì´ë²¤íŠ¸ë¥¼ addEventListenerë¡œ ë“±ë¡í•˜ê³  credit ê°’ì„ ë¶ˆëŸ¬ì˜¨ë‹¤..

=>Â **ë¬¸ì œ**Â storagì´ë²¤íŠ¸ëŠ” ê°™ì€ íƒ­ì—ì„œëŠ” ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤..list í˜ì´ì§€ì—ì„œ ìœ„ì— ëª¨ë‹¬ì„ ë„ìš°ëŠ”ê²ƒì´ê¸° ë•Œë¬¸ì— ì˜ ë™ì‘í•˜ì§€ ì•ŠìŒ

**í•´ê²°**

ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ í•´ê²°í•œë‹¤

```
useEffect(() => {
    const updateCredit = () => {
      setLocalCredit(parseInt(localStorage.getItem("credit")) || 0);
    };
    // ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ,
    // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ì‹œ ë¦¬ìŠ¤ë„ˆê°€ ë“±ë¡ë˜ì–´ ì´í›„ creditUpdate ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ìƒíƒœê°€ ì—…ë°ì´íŠ¸ ë¨
    window.addEventListener("creditUpdate", updateCredit);
    //í´ë¦°ì—…
    return () => window.removeEventListener("creditUpdate", updateCredit);
  }, []);

  const setNewCredit = (newCredit) => {
    localStorage.setItem("credit", newCredit.toString());
    setLocalCredit(newCredit);
    window.dispatchEvent(new Event("creditUpdate"));
  };
```